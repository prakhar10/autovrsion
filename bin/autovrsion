#!/usr/bin/env ruby

require 'listen'
require 'rugged'
require 'git'

if ARGV[1] == nil
	path = Dir.pwd
else
	path = ARGV[1]
end		
case ARGV[0]
	when "options"
		puts "\tdisplay - "
		puts "\tstart"
		puts "\tstop"
		puts "\tcheck"
		puts "\tcreate" 
		puts "\treset"
		puts "\trewind"
	when "help"
	f = File.open("README.md")
	while line = f.gets do
    	puts line
	end

f.close	
	when "display"
		require 'autovrsion/display_versions.rb'
		d= DisplayLog.new
		d.disp(path)
	when "start"
		require 'autovrsion/filelistener.rb'
		puts "Listening to changes.enter "+"stop ".red+"or"+" 1 ".red+"to stop listening to changes"
		f = FileListen.new
		f.lis(path)
		
	when "check"
		require 'autovrsion/version_checkout.rb'
		v = Checkout.new
		v.chk(path)
	when "create"
		require 'autovrsion/create_repository.rb'
		c  = CreateRepo.new
		c.create(path)
	when "reset"
		require 'autovrsion/reset.rb'
		r = Reset.new
		r.reset(path)
	when "rewind"
		require 'autovrsion/rewind.rb'
		rw = Rewind.new
		rw.rewindto(path)
	end	


